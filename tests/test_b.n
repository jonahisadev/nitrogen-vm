#section TEXT

start:
	mov eax 42

	pusha
	const 5
	call @square
	add esp 4
	popa
	
	pusha
	store edx
	call @print_num
	add esp 4
	popa
	
	mov ebx eax
	exit
	
square:
	addr eax (ebp)+8
	mul eax eax
	mov edx eax
	ret
	
print_num:
	addr eax (ebp)+8
	store eax
	ncall %print_num
	add esp 4
	
	const 10
	ncall %print_char
	add esp 4
	
	ret